# This is an automated backup - check out https://outlands.uorazorscripts.com/script/c480cc9e-9024-421e-9060-c3188a095631 for latest
# Automation by Jaseowns
## Script: Shelter Dungeon Animal Taming 
## Created by: Jaseowns#6694
#############################################

# Shelter Dungeon Animal Taming by Jaseowns
# UO Outlands
# Breakdown of mobs:
# min 30 skill
    # a mongbat
    # a giant rat
# min 40 skill
    # a guar
    # a wolf
# min 50 skill
    # a familiar
    # a giant frog
    # a primordial whelp
    # a colossal frog
    # a giant bat
    # a monitor hatchling
# min 55 skill
    # a corpse eater
# min 60 skill 
    # a primordial
    # a cave bear
# min 75 skill 
    # a drake whelp
    # a chameleon

if skill "Animal Taming" < 50
    overhead "Go train to 50 skill" 88
    stop
elseif skill "Animal Taming" >= 80
    overhead "Go use another script uorazorscripts.com" 88
    stop
endif

@setvar! tamingTimerCd 11500
if not timerexists tamingTimer
    settimer tamingTimer tamingTimerCd
endif

if not timerexists sayTimer
    settimer sayTimer 0
endif


if followers = 0
    @setvar! myFollowers 0  
    settimer sayTimer 0
elseif followers = 1
    @setvar! myFollowers 1
elseif followers = 2
    @setvar! myFollowers 2
elseif followers = 3
    @setvar! myFollowers 3
elseif followers = 4
    @setvar! myFollowers 4
elseif followers = 5
    @setvar! myFollowers 5
    overhead "Too many followers - release some!" 88
    wait 2000
    replay
endif

@clearignore 

@setvar! tameThisThing 0

if skill "Animal Taming" < 60
    while findtype "a mongbat|a giant rat|a guar|a wolf|a familiar|a giant frog|a primordial whelp|a colossal frog|a giant bat|a monitor hatchling" ground -1 -1 2 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 70
    while findtype "a primordial|a cave bear|a corpse eater|a familiar|a guar|a wolf|a giant frog|a primordial whelp|a colossal frog|a giant bat|a monitor hatchling" ground -1 -1 2 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" >= 75
    while findtype "a corpse eater|a primordial|a cave bear|a drake whelp|a chameleon" ground -1 -1 2 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
endif

if tameThisThing != 0
    clearsysmsg 
    settimer tamingTimer 0
    settimer sayTimer 0
    
    if followers > 0
        say "all kill"
        wft 500
        target tameThisThing
        settimer sayTimer 0
        wait 200
        while timer sayTimer < 750
        endwhile
        say "all follow me"
        warmode off
    endif
    
    while followers = myFollowers
        useskill "taming"
        wft 500
        target tameThisThing
        if timer tamingTimer >= tamingTimerCd
            replay
        elseif insysmsg "cannot be seen"
            replay
        elseif dead tameThisThing or not find tameThisThing ground -1 -1 4
            replay
        endif
    endwhile
                
    if followers > 3
        if skill "herding" > 0
            while not gumpexists 2426193729
                menu tameThisThing 10
                wait 50
            endwhile
        else
            while not gumpexists 2426193729
                menu tameThisThing 9
                wait 50
            endwhile
        endif
        while gumpexists 2426193729
            gumpresponse 1 2426193729
            wait 50
        endwhile
    endif
endif

wait 100
replay



    