# This is an automated backup - check out https://outlands.uorazorscripts.com/script/93786cbd-fc20-4563-8716-74912a696869 for latest
# Automation by Jaseowns
## Script: Restock Storage Shelf with Magic Mushrooms (Easily Customizable Amount)
## Created by: oaksvirals#0
#############################################

#Stand next to the shelf and run.
#Change the MushCount variable to how many shrooms you want to make.
#Consider how much weight you can hold. 1000 mushrooms = 100 weight.

@setvar! MushCount '1000'

if findtype "storage shelf" ground -1 -1 2 as MyShelf
   overhead 'Shelf Found!' 0
else 
   overhead 'Must Be Near Your Storage Shelf!' 33
   stop
endif

while counttype 29012 backpack < MushCount
    if counttype 3974 self < 10
    menu MyShelf 1
    wait 1000
    overhead 'Restocked!' 0
    else
    cast 'create food'
    wait 1000
    endif
    if mana < 15
        dclicktype 29012
        while mana < 90
           if not findbuff "actively meditating"
            skill 'meditation'
           endif
        wait 1000
        endwhile
    endif
endwhile

if counttype 29012 backpack >= MushCount
    menu MyShelf 0
    wait 1000
    target 'self'
    pause 600
    gumpclose
    overhead 'All Done!' 0
    stop
endif